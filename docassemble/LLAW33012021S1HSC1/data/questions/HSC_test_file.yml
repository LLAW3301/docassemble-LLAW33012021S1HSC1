---
# This is a temporary file for driving other non-main files
# Use this for testing without messing with main file
# Include the files you want to test in here
include:
  - HSC.csv.yml
  - HSC_get_qualifying_services.yml
  - HSC_display_output.yml
  - HSC_global_vars.yml
---
mandatory: True
code: |
  # hard coded shit, just for testing purposes
  HSCimport_message = "howdy"
  HSCcouncil = 'City of Marion'
  HSCage = 40
  HSCgender = 'Male'
  HSCfamily = 'Single'
  HSCconcessions = DADict()
  HSCconcessions['Health Care Card'] = True
  HSCconcessions['Seniors Card'] = False
  HSCconcessions['Department of Veteran Affairs Card'] = False
  HSCconcessions['Disability Support Person'] = False
  HSCconcessions['Student'] = True
  HSCconcessions.there_is_another = False
  HSCother = DADict()
  HSCother['Disability'] = True
  HSCother['Immigrant'] = False
  HSCother['Refugee'] = True
  HSCother.there_is_another = False
  
  #selected_services_test_collect.gathered = True
  #csv_data[HSCcouncil] = HSCdata.get(HSCcouncil)
  #council_services = HSCdata.get(HSCcouncil)
---
#code:
  #selected_services_test_collect.there_are_any = True
---
variable name: HSClist_of_dicts_test
use objects: true
data: 
  - service: Adolescent Community Brokerage
    Council: Marion
    Category: Key Service
    address: 43 Franklin Street, Adelaide, South Australia 5000
    email: acbrokerage@unitingcommunities.org
  - service: Yet Another Bloody Service
    Council: Marion
    Category: Key Service
    address: ur moms house
    email: gottem
  - service: One More
    Council: Marion
    Category: Other Category
    address: ur moms house
    email: haha gets em everytime
---
mandatory: True
question: what kind of bear is best
subquestion: |
  ${ write_HSCdata }
  % for key in HSCdata.keys():
  
  ${ key }
  
  % for service in HSCdata.get(key):
  
  ${ service['Category'] }
  
  % endfor
  % endfor
  
  #### testing the contents of the database are actually dictionaries
  
  % for key in HSCdata.keys():
  
  ${ HSCdata.get(key).object_type }
  
  % endfor
  
  #### and now, for something completely different

  % for category in HSCqualifying_services.keys():
  
  ${ category }

  % for service in HSCqualifying_services.get(category):
  
  ${ service.values() }
  
  % endfor
  % endfor
  
  ${ test_var_2 }

attachment:
  - name: Test Doc
    filename: printout
    docx template file: HSC_print_out_test_specific.docx
---
mandatory: True
code: |
  read_data_from_dastore
  write_data_to_dastore
  the_last_bit
---
question: Read data from DAstore (first time)
subquestion: |
  #### Read in data from the `HSCdata` DAStore
  
  % for key in HSCdata.keys():
  - `${ key }` Value: `${ HSCdata.get(key) }`
  % endfor
continue button field: read_data_from_dastore
---
# Split into two question blocks so we can separate the reads and the writes
question: Write data to DAStore
subquestion: |
  #### Write the data into `HSCdata`
  We do this by looking for `write_HSCdata`.  Should be True --> `${ write_HSCdata }
  #### Here's what's in `csv_data`
  %for key in csv_data.keys():
  - Key: `${ key }` Value: `${ csv_data[key] }`
  %endfor
  #### Read in data from `HSCdata` DAStore again
  % for key in HSCdata.keys():
  - Key: `${ key }` Value: `${ HSCdata.get(key) }`
  % endfor
continue button field: write_data_to_dastore
---
question: The last bit
subquestion: |
  #### and now, for something completely different
  (Not sure what this is for but anyway...  I'll work it out!)
  % for category in HSCqualifying_services.keys():
  **Category: ${ category }**
  
  % for service in HSCqualifying_services.get(category):
  - Service Values: ${ service.values() }
  % endfor
  % endfor
continue button field: the_last_bit
---